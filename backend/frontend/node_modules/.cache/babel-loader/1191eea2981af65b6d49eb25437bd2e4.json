{"ast":null,"code":"var _jsxFileName = \"E:\\\\git\\\\ebay\\\\frontend\\\\src\\\\pages\\\\single_order\\\\Single_order.jsx\",\n    _s = $RefreshSig$();\n\nimport { useLocation } from \"react-router-dom\";\nimport { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { UserContext } from \"../../userContext\";\nimport { CartContext } from \"../../cartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Single_order() {\n  _s();\n\n  const location = useLocation();\n  const id = location.pathname.split(\"/\")[2];\n  const [orderdetails, setOrderdetails] = useState([]);\n\n  const getSingleorder = () => {\n    axios({\n      method: \"GET\",\n      withCredentials: true,\n      url: \"http://localhost:4000/api/getproductsforcart/\" + id\n    }).then(res => {\n      setOrderdetails(res.data.row[0]);\n      console.log(res.data.row[0]);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const markDelivered = order_id => {\n    axios({\n      method: \"POST\",\n      data: {\n        order_id\n      },\n      withCredentials: true,\n      url: \"http://localhost:4000/api/markasdelivered\"\n    }).then(res => {\n      if (res.data.message == \"successfully delivered\") {\n        swal({\n          title: \"You have successfully marked the order as delivered.\",\n          text: \"Customer can now accept the delivery to complete this order\",\n          icon: \"success\",\n          button: \"Ok\"\n        });\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    getSingleorder();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Buyer name: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 20\n        }, this), orderdetails.buyer_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Buyer Phone: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 20\n        }, this), orderdetails.buyer_phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Buyer Address: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 20\n        }, this), orderdetails.buyer_address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Status: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 20\n        }, this), orderdetails.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Date: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 20\n        }, this), orderdetails.date]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), orderdetails.status == \"pending\" && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"red\",\n        children: \"Please deliver this order as soon as possible.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 54\n      }, this), orderdetails.status == \"delivered\" ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"green\",\n        children: \"Order submitted as delivered. please wait for the customer to accept.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 55\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          markDelivered(orderdetails.id);\n        },\n        className: \"btn btn-primary btn-block mb-4\",\n        children: \"Mark as delivered\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 152\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n\n_s(Single_order, \"5lVylD0j2Ug+tsZYuC0F0uPIehU=\", false, function () {\n  return [useLocation];\n});\n\n_c = Single_order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Single_order\");","map":{"version":3,"sources":["E:/git/ebay/frontend/src/pages/single_order/Single_order.jsx"],"names":["useLocation","useState","useEffect","useContext","axios","UserContext","CartContext","Single_order","location","id","pathname","split","orderdetails","setOrderdetails","getSingleorder","method","withCredentials","url","then","res","data","row","console","log","catch","error","markDelivered","order_id","message","swal","title","text","icon","button","buyer_name","buyer_phone","buyer_address","status","date"],"mappings":"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","sourcesContent":["import { useLocation } from \"react-router-dom\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../userContext\";\r\nimport { CartContext } from \"../../cartContext\";\r\n\r\nexport default function Single_order() {\r\n    const location = useLocation();\r\n    const id = location.pathname.split(\"/\")[2];\r\n    const [orderdetails, setOrderdetails] = useState([])\r\n\r\n    const getSingleorder = () => {\r\n        axios({\r\n            method: \"GET\",\r\n            withCredentials: true,\r\n            url: \"http://localhost:4000/api/getproductsforcart/\" + id,\r\n        })\r\n            .then((res) => {\r\n\r\n                setOrderdetails(res.data.row[0])\r\n                console.log(res.data.row[0])\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }\r\n\r\n    const markDelivered = (order_id) => {\r\n\r\n\r\n        axios({\r\n            method: \"POST\",\r\n            data: {\r\n                order_id,\r\n            },\r\n            withCredentials: true,\r\n            url: \"http://localhost:4000/api/markasdelivered\",\r\n        })\r\n            .then((res) => {\r\n\r\n                if(res.data.message == \"successfully delivered\"){\r\n                    swal({\r\n                      title: \"You have successfully marked the order as delivered.\",\r\n                      text: \"Customer can now accept the delivery to complete this order\",\r\n                      icon: \"success\",\r\n                      button: \"Ok\",\r\n                    });\r\n                  }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            });\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getSingleorder();\r\n        \r\n    }, [])\r\n    return (\r\n        <>\r\n            <div className=\"page\">\r\n                <p><b>Buyer name: </b>{orderdetails.buyer_name}</p>\r\n                <p><b>Buyer Phone: </b>{orderdetails.buyer_phone}</p>\r\n                <p><b>Buyer Address: </b>{orderdetails.buyer_address}</p>\r\n                <p><b>Status: </b>{orderdetails.status}</p>\r\n                <p><b>Date: </b>{orderdetails.date}</p>\r\n                {orderdetails.status == \"pending\" && <p className=\"red\">Please deliver this order as soon as possible.</p>}\r\n\r\n                {orderdetails.status == \"delivered\" ? <p className=\"green\">Order submitted as delivered. please wait for the customer to accept.</p> : <button onClick={()=>{\r\n                    markDelivered(orderdetails.id);\r\n                }} className=\"btn btn-primary btn-block mb-4\">Mark as delivered</button>}\r\n                \r\n\r\n                \r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}